/* Gazeta Pagination Test - Anderson Hese - Minify by Grunt */
function makeGet(a,b,c){$.get(a).done(function(a){b(a&&a.matches&&a.matches.length?a.matches:[])}).fail(function(){c()})}function fillNews(a){gazeta.app_gazeta.total_pages=Math.ceil(a.length/gazeta.app_gazeta.config.itens_per_page);for(var b=[],c=gazeta.app_gazeta.config.itens_per_page,d=(gazeta.app_gazeta.config.number_page-1)*gazeta.app_gazeta.config.itens_per_page;c--&&d<=a.length&&a[d];)b.push(a[d]),d++;gazeta.app_gazeta.pages=[],gazeta.app_gazeta.config.number_page>gazeta.app_gazeta.total_pages&&(gazeta.app_gazeta.config.number_page=gazeta.app_gazeta.total_pages),pagination(),gazeta.app_gazeta.loading=!1,gazeta.app_gazeta.news=[];for(var e=0,c=b.length;e<c;e++)gazeta.app_gazeta.news.push({title:b[e].title,desc:b[e].description,pic:b[e].dominantthumbnail,url:b[e].url,date:ConvertDate(b[e].createtime),real_date:b[e].createtime})}function ConvertDate(a){if(a){const b=new Date;var c=new Date(a);return b.getDate()==c.getDate()&&b.getMonth()==c.getMonth()&&b.getYear()==c.getYear()?"hoje às "+c.getHours()+"h":b.getDate()-c.getDate()==1&&b.getMonth()==c.getMonth()&&b.getYear()==c.getYear()?"ontem às "+c.getHours()+"h":b.getMonth()==c.getMonth()&&b.getYear()==c.getYear()?""+("0"+c.getDate()).slice(-2)+"/"+("0"+(c.getMonth()+1)).slice(-2):("0"+c.getDate()).slice(-2)+"/"+("0"+(c.getMonth()+1)).slice(-2)+"/"+c.getFullYear()}return""}function range(a,b){for(var c=[],d=1;d>0?b>=a:b<=a;)c.push(a),a+=d;return c}function setPage(a){$("#loading").center(),a!=gazeta.app_gazeta.config.number_page&&a>0&&a<=gazeta.app_gazeta.total_pages&&(gazeta.app_gazeta.config.number_page=a,gazeta.app_gazeta.loading=!0,makeGet(gazeta.app_gazeta.url,fillNews,function(){alert("Invalid Action!")}))}function pagination(){var a=parseInt(gazeta.app_gazeta.config.number_page)-gazeta.app_gazeta.config.pages_display_max_number,b=parseInt(gazeta.app_gazeta.config.number_page)+gazeta.app_gazeta.config.pages_display_max_number;a<=0&&(a=1),b>gazeta.app_gazeta.total_pages&&(b=gazeta.app_gazeta.total_pages);var c=!1;1==gazeta.app_gazeta.config.number_page&&(c=!0),gazeta.app_gazeta.pages.push({name:"primeiro",id:1,active:!1,disable:c});var d=gazeta.app_gazeta.config.number_page-1<=0?1:gazeta.app_gazeta.config.number_page-1;gazeta.app_gazeta.pages.push({name:"anterior",id:d,active:!1,disable:c});for(var e=range(a,b),f=0,g=e.length;f<g;f++){var h=!1;e[f]==gazeta.app_gazeta.config.number_page&&(h=!0),gazeta.app_gazeta.pages.push({name:e[f],id:e[f],active:h})}var i=!1;gazeta.app_gazeta.config.number_page==gazeta.app_gazeta.total_pages&&(i=!0);var j=gazeta.app_gazeta.config.number_page+1>=gazeta.app_gazeta.total_pages?gazeta.app_gazeta.total_pages:gazeta.app_gazeta.config.number_page+1;gazeta.app_gazeta.pages.push({name:"próximo",id:j,active:!1,disable:i}),gazeta.app_gazeta.pages.push({name:"último",id:gazeta.app_gazeta.total_pages,active:!1,disable:i})}Vue.component("gazeta-news-component",{template:"#template-gazeta-news",props:["new"]});var gazeta={};gazeta.app_gazeta=new Vue({el:"#app_gazeta",data:{url:"http://hom.gazetaonline.com.br/api/search?query=noticias&count=24&sort=maisRecentes",news:[],pages:[],loading:!0,total_pages:0,config:{itens_per_page:4,pages_display_max_number:2,number_page:1}}}),jQuery.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("width: ","140px"),this},$("#loading").center(),makeGet(gazeta.app_gazeta.url,fillNews,function(){alert("Invalid Action!")});
/* Gazeta Scroll Test - Anderson Hese - Minify by Grunt */
function makeGet(a,b,c){$.get(a).done(function(a){b(a&&a.matches&&a.matches.length?a.matches:[])}).fail(function(){c()})}function fillNews(a){var b=!1;if(gazeta.app_gazeta.config.initial_value_scroll<a.length/gazeta.app_gazeta.config.itens_per_scroll)for(var c=[],d=gazeta.app_gazeta.config.itens_per_scroll,e=gazeta.app_gazeta.config.initial_value_scroll*gazeta.app_gazeta.config.itens_per_scroll;d--&&e<a.length&&a[e];)c.push(a[e]),e++;else b=!0;if(gazeta.app_gazeta.loading=!1,b)gazeta.app_gazeta.loading=!1;else{gazeta.app_gazeta.config.initial_value_scroll++;for(var f=0,d=c.length;f<d;f++)gazeta.app_gazeta.news.push({title:c[f].title,desc:c[f].description,pic:c[f].dominantthumbnail,url:c[f].url,date:ConvertDate(c[f].createtime),real_date:c[f].createtime});gazeta.loading_news=!1}}function ConvertDate(a){if(a){const b=new Date;var c=new Date(a);return b.getDate()==c.getDate()&&b.getMonth()==c.getMonth()&&b.getYear()==c.getYear()?"hoje às "+c.getHours()+"h":b.getDate()-c.getDate()==1&&b.getMonth()==c.getMonth()&&b.getYear()==c.getYear()?"ontem às "+c.getHours()+"h":b.getMonth()==c.getMonth()&&b.getYear()==c.getYear()?""+("0"+c.getDate()).slice(-2)+"/"+("0"+(c.getMonth()+1)).slice(-2):("0"+c.getDate()).slice(-2)+"/"+("0"+(c.getMonth()+1)).slice(-2)+"/"+c.getFullYear()}return""}Vue.component("gazeta-news-component",{template:"#template-gazeta-news",props:["new"]});var gazeta={};gazeta.app_gazeta=new Vue({el:"#app_gazeta",data:{url:"http://hom.gazetaonline.com.br/api/search?query=noticias&count=24&sort=maisRecentes",news:[],loading:!1,loading_news:!1,config:{initial_value_scroll:0,itens_per_scroll:4}}}),$(window).scroll(function(){$(window).scrollTop()+$(window).height()==$(document).height()&&(gazeta.loading_news||(gazeta.loading_news=!0,gazeta.app_gazeta.loading=!0,makeGet(gazeta.app_gazeta.url,fillNews,function(){alert("Invalid Action!")})))}),makeGet(gazeta.app_gazeta.url,fillNews,function(){alert("Invalid Action!")});